<!--
  Generated template for the OndemandcategoriesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar transparent>
    <ion-title>{{onDemandCategoryTitle}}</ion-title>
  </ion-navbar>
  <ion-searchbar [(ngModel)]="searchTerm" [formControl]="searchControl"></ion-searchbar>
</ion-header>

 
<ion-content *ngIf="onDemandItems && onDemandItems.length" fullscreen>
  <div *ngIf="searching" class="spinner-container">
      <ion-spinner></ion-spinner>
  </div>
  <ion-list [virtualScroll]="onDemandItems" approxItemHeight="40px" approxHeaderHeight="0px" approxFooterHeight="0px">
    <ion-item-sliding *virtualItem="let item" #slidingItem>
      <ion-item (click)="itemTapped($event, item)" class="item-ribbon">
        <span class="ribbon {{item.class}}" *ngIf="item.ribbontext != 'no'">
          <span>{{item.ribbontext}}</span>
        </span>
        <h2>{{item.title}}</h2>
        <p>{{item.broadcast}}</p>
        <button ion-button color="secondary" clear item-end *ngIf="item.isFavorite == true"><ion-icon name='star' is-active="false"></ion-icon></button>
      </ion-item>

      <ion-item-options icon-start (ionSwipe)="removeDownloadedItem($event, item, slidingItem)" *ngIf="item.isFavorite == true">
          <button color="danger" ion-button expandable (click)="removeDownloadedItem($event, item, slidingItem)">
            <ion-icon name="trash"></ion-icon>
          </button>
      </ion-item-options>

    </ion-item-sliding>
  </ion-list>
</ion-content>